# Test Configuration
%test.quarkus.datasource.db-kind=postgresql
%test.quarkus.datasource.username=test
%test.quarkus.datasource.password=test
%test.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/test_db

# Use H2 for fast unit tests (optional)
# %test.quarkus.datasource.db-kind=h2
# %test.quarkus.datasource.jdbc.url=jdbc:h2:mem:testdb

# Hibernate test config
%test.quarkus.hibernate-orm.database.generation=drop-and-create
%test.quarkus.hibernate-orm.log.sql=true

# Flyway test config
%test.quarkus.flyway.migrate-at-start=false

# Reactive Messaging test config
%test.mp.messaging.outgoing.webhook-events.connector=smallrye-in-memory
%test.mp.messaging.incoming.webhook-events.connector=smallrye-in-memory

# Logging for tests
%test.quarkus.log.level=INFO
%test.quarkus.log.category."ao.co.oportunidade.webhook".level=DEBUG
